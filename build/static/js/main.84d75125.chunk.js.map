{"version":3,"sources":["components/Yhteystiedot.js","components/Alert.js","components/Form.js","App.js","index.js"],"names":["Yhteystiedot","_this","this","react_default","a","createElement","props","data","map","yht","key","name","number","type","onClick","handleDelete","React","Component","Alert","_ref","alert","Form","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","addContact","event","preventDefault","newName","state","persons","some","obj","handleAlert","handleAdd","handleClear","handleNameChange","handleNumberChange","target","value","newNumber","onSubmit","onChange","required","URL","App","window","confirm","concat","axios","delete","id","then","get","response","setState","console","log","yhtObj","post","_this2","components_Alert","components_Form","components_Yhteystiedot","rootElement","document","getElementById","createRoot","render","react","src_App"],"mappings":"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","file":"static/js/main.84d75125.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass Yhteystiedot extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ul>\r\n          {this.props.data.map((yht) => (\r\n            <li key={yht.name}>\r\n              <strong> Nimi: </strong> {yht.name}\r\n              <strong> Numero: </strong> {yht.number}\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => this.props.handleDelete(yht)}\r\n              >\r\n                Delete\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Yhteystiedot;\r\n// <strong> ID: </strong> {yht.id}\r\n","import React from \"react\";\r\n\r\nconst Alert = ({ alert }) => {\r\n  if (alert === null) {\r\n    return null;\r\n  } else {\r\n    return (\r\n      <div>\r\n        <strong>Nimellä '{alert}' löytyy jo yhteystieto</strong>\r\n        <br />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Alert;\r\n","import React from \"react\";\r\nimport \"../index.css\";\r\nclass Form extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      alert: null,\r\n      newNumber: \"\",\r\n      newName: \"\",\r\n    };\r\n  }\r\n\r\n  addContact = (event) => {\r\n    event.preventDefault();\r\n    const newName = this.props.state.newName;\r\n    const persons = this.props.state.persons;\r\n    //const alert = this.props.alert\r\n    const checkIfExist = (obj) => obj.name === newName;\r\n    if (persons.some(checkIfExist)) {\r\n      this.props.handleAlert(newName);\r\n    } else {\r\n      this.props.handleAlert(null);\r\n      this.props.handleAdd();\r\n    }\r\n\r\n    //console.log(contacts.some(checkIfExist))\r\n  };\r\n\r\n  handleClear = (event) => {\r\n    this.props.handleAlert(null);\r\n    this.props.handleNameChange(\"\");\r\n    this.props.handleNumberChange(\"\");\r\n  };\r\n\r\n  handleNameChange = (event) => {\r\n    //console.log(event.target.value)\r\n    this.props.handleNameChange(event.target.value);\r\n  };\r\n\r\n  handleNumberChange = (event) => {\r\n    //console.log(event.target.value)\r\n    this.props.handleNumberChange(event.target.value);\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.addContact}>\r\n          Nimi:\r\n          <input\r\n            value={this.props.state.newName}\r\n            onChange={this.handleNameChange}\r\n            required\r\n          />\r\n          <br />\r\n          Numero:\r\n          <input\r\n            type=\"number\"\r\n            value={this.props.state.newNumber}\r\n            onChange={this.handleNumberChange}\r\n            required\r\n          />\r\n          <br />\r\n          <button type=\"submit\">save</button>\r\n          <button onClick={this.handleClear}>clear</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form;\r\n","import React from \"react\";\nimport Yhteystiedot from \"./components/Yhteystiedot\";\nimport Alert from \"./components/Alert\";\nimport Form from \"./components/Form\";\nimport axios from \"axios\";\n\nconst URL = \"/api/persons/\";\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      persons: [],\n      newName: \"\",\n      newNumber: \"\",\n      alert: null,\n    };\n  }\n\n  componentDidMount() {\n    //console.log(\"did mount\");\n    axios.get(URL).then((response) => {\n      //console.log(\"promise fulfilled\", response);\n      this.setState({ persons: response.data });\n    });\n  }\n\n  handleDelete = (yht) => {\n    //console.log(id)\n    if (window.confirm(`Haluatko varmasti poistaa \"${yht.name}\"`)) {\n      axios.delete(`${URL}${yht.id}`).then(() => {\n        axios.get(URL).then((response) => {\n          //console.log(\"promise fulfilled\", response);\n          this.setState({ persons: response.data });\n        });\n      });\n    } else {\n      console.log(\"Peruttiin\");\n    }\n  };\n\n  handleAdd = () => {\n    const newName = this.state.newName;\n    const newNumber = this.state.newNumber;\n    const yhtObj = {\n      name: newName,\n      number: newNumber,\n    };\n    axios.post(URL, yhtObj).then((response) => {\n      this.setState({\n        persons: this.state.persons.concat(response.data),\n        newName: \"\",\n        newNumber: \"\",\n      });\n    });\n    //this.setState({ newName: \"\", newNumber: \"\" });\n    //console.log(this.state.persons);\n  };\n\n  handleAlert = (alert) => {\n    this.setState({ alert: alert });\n  };\n\n  handleNameChange = (name) => {\n    //console.log(event.target.value)\n    this.setState({ newName: name });\n  };\n\n  handleNumberChange = (number) => {\n    //console.log(event.target.value)\n    this.setState({ newNumber: number });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Puhelinluettelo</h1>\n        <Alert alert={this.state.alert} />\n        <Form\n          handleNumberChange={this.handleNumberChange}\n          handleNameChange={this.handleNameChange}\n          handleAlert={this.handleAlert}\n          handleAdd={this.handleAdd}\n          state={this.state}\n        />\n        <h2>Yhteystiedot</h2>\n        <Yhteystiedot\n          data={this.state.persons}\n          handleDelete={this.handleDelete}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n//import axios from \"axios\";\nimport App from \"./App\";\n\n/*const promise = axios.get(\"http://localhost:3001/persons\");\npromise.then((response) => {\n  console.log(response);\n});*/\n\n/*const promise2 = axios.get(\"http://localhost:3001/foobar\");\nconsole.log(promise2);*/\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}